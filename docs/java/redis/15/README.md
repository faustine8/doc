---
lang: zh-CN
title: Redis 缓存与数据库一致性
description: Redis 缓存与数据库一致性
prev: /java/redis/14/
next: /java/redis/16/
---

# Redis 缓存与数据库一致性

## 1. 缓存更新策略

- 利用 Redis 的缓存淘汰策略被动更新 LRU 、LFU
- 利用TTL被动更新
- 在更新数据库时主动更新 (先更数据库再删缓存 —— 延时双删)
- 异步更新 定时任务 数据不保证时时一致 不穿DB

## 2. 不同策略之间的优缺点

| 策略                 | 一致性 | 维护成本 |
|--------------------|-----|------|
| 利用Redis的缓存淘汰策略被动更新 | 最差  | 最低   |
| 利用TTL被动更新          | 较差  | 较低   |
| 在更新数据库时主动更新        | 较强  | 最高   |

## 3. 与 Mybatis 整合

可以使用 Redis 做 Mybatis 的二级缓存，在分布式环境下可以使用。

> 框架采用 Springboot + Mybatis + Redis。框架的搭建就不赘述了。

> 代码编写略...
