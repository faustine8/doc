---
lang: zh-CN
title: 移动WEB开发之rem适配布局
description: 移动WEB开发之rem适配布局
prev: /web/01_html5/08_flex/
next: /web/01_html5/10_boostrap/
---

掌握 rem 基础知识

## 课程目标

- 能够使用 rem 单位
- 能够使用媒体查询的基本语法
- 能够使用 Less 的基本语法
- 能够使用 Less 中的嵌套
- 能够使用 Less 中的运算
- 能够使用 2 种rem 适配方案
- 能够独立完成苏宁移动端首页

## 思考

1．页面布局文字能否随着屏幕大小变化而变化？
2．流式布局和 flex 布局主要针对于宽度布局，那高度如何设置？
3．怎么样让屏幕发生变化的时候元素高度和宽度等比例缩放？

## rem 单位

- rem（root em）是一个相对单位，类似于 em，em 是父元素字体大小。
- 不同的是 rem 的基准是相对于 `＜html＞` 元素的字体大小。
- 比如，根元素（html）设置 `font-size＝12px;` 非根元素设置 `width：2rem;` 转换成 px 表示就是 24px。
- rem 的优势：父元素文字大小可能不一致，但是整个页面只有一个 `＜html＞`，可以很好的来控制整个页面的元素大小比例。

```css
/*根 HTML 为 12px*/
html {
    font-size: 12px;
}

/*此时 div 的字体大小就是 24px*/
div {
    font-size: 2rem;
}
```

## 媒体查询

::: tip 目标
掌握媒体查询制作方法
:::

媒体查询（Media Query）是 CSS3 新语法。

- 使用 `＠media` 查询，可以针对不同的媒体类型定义不同的样式
- `＠media` 可以针对不同的屏幕尺寸设置不同的样式
- 当你重置浏览器大小的过程中，页面也会根据浏览器的宽度和高度重新渲染页面
- 目前针对很多苹果手机、Android手机，平板等设备都用得到多媒体查询

### 语法规范

- 用 `＠media` 开头，注意 `＠` 符号
- `mediatype` 媒体类型
- 关键字 `and` `not` `only`
- `media feature` 媒体特性，必须有小括号包含

```css{}
@media mediatype and|not|only (media featre) {
    CSS-code
}
```

### `mediatype` 媒体类型

将不同的终端设备划分成不同的类型，称为媒体类型

| 值      | 	解释说明              |
|--------|--------------------|
| all    | 	用于所有设备            |
| print  | 	用于打印机和打印预览        |
| screen | 	用于电脑屏幕，平板电脑，智能手机等 |


### 关键字

关键字将媒体类型或多个媒体特性连接到一起做为媒体查询的条件。

- `and`：可以将多个媒体特性连接到一起，相当于“且”的意思。
- `not`：排除某个媒体类型，相当于“非”的意思，可以省略。
- `or`：可以测试多个媒体查询的条件，只要有一个条件成立，就执行，“或”的意思。
- `only`：指定某个特定的媒体类型，可以省略。

### 媒体特性

每种媒体类型都具体有各自不同的特性，根据不同媒体类型的媒体特性设置不同的展示风格。我们暂且了解三个。

> 注意：他们要加小括号进行包含。

| 值	         | 解释说明              |
|------------|-------------------|
| width	     | 定义输出设备中页面可见区域的宽度  |
| min-width	 | 定义输出设备中页面最小可见区域宽度 |
| max-width	 | 定义输出设备中页面最大可见区域宽度 |

### 案例：根据页面宽度改变背景颜色

> 待补充...

## Less 基础

::: tip 目标
掌握 Less 的使用方法
:::

### 维护 CSS 的弊端

CSS 是一门非程序式语言，没有变量、函数、SCOPE（作用域）等概念

- CSS 需要书写大量看似没有逻辑的代码，CSS冗余度是比较高的。
- 不方便维护及扩展，不利于复用。
- CSS没有很好的计算能力。
- 非前端开发工程师来讲，往往会因为缺少 CSS 编写经验而很难写出组织良好且易于维护的 CSS 代码项目。

### Less 介绍

- Less (Leaner Style Sheets的缩写) 是一门 CSS 扩展语言，也成为 CSS 预处理器。
- 做为 CSS 的一种形式的扩展，它并没有减少 CSS 的功能，而是在现有的 CSS 语法上，为 CSS 加入程序式语言的特性。
- 它在CSS的语法基础之上，引入了变量，Mixin（混入），运算以及函数等功能，大大简化了 CSS 的编写，并且降低了CSS的维护成本，就像它的名称所说的那样，Less 可以让我们用更少的代码做更多的事情。

常见的 CSS 预处理器：Sass、Less、Stylus

一句话：Less 是一门 CSS 预处理语言，它扩展了 CSS 的动态特性。

### Less 安装

1. 安装 nodejs
2. 检查是否安装成功，使用 `node -v` 查看版本即可
3. 基于 node.js 在线安装 Less，使用命令 `npm install -g less`
4. 检查是否安装成功，使用命令 `lessc -v` 査看版本

### Less 使用

我们首先新建一个后缀名为 .less 的文件，在这个 .less 文件里面书写 Less 语句。

- Less 变量
- Less 编译
- Less 嵌套
- Less 运算

#### Less 变量

变量是指没有固定的值，可以动态改变的。因为我们 CSS 中的一些颜色和数值等经常使用。

```less{}
＠变量名：值;
```

##### 1．变量命名规范		

- 必须有 `＠` 为前缀                 
- 不能包含特殊字符                
- 不能以数字开头                 
- 大小写敏感

```less
@color:pink;
```

##### 2．变量使用规范

```less
// 直接使用
body {
  color: @color;
}

a:hover {
  color: @color;
}
```

#### Less 编译              

本质上，Less 包含一套自定义的语法及一个解析器，用户根据这些语法定义自己的样式规则，这些规则最终会通过解析器，编译生成对应的 CSS 文件。

所以，我们需要把我们的 .less 文件，编译生成为 .css 文件，这样我们的 html 页面才能使用。

推荐方法(nodejs): 在当前文件夹，使用命令

```shell
lessc style.less > style.css
```

#### Less 嵌套

我们常用的选择器

```css
#header .logo {
    width: 300px;
}
```

Less 嵌套写法

```less
#header {
  .logo {
    width: 300px;
  }
}
```

如果遇见（交集｜伪类｜伪元素选择器）

- 内层选择器的前面没有 `＆` 符号，则它被解析为父选择器的后代；
- 如果有 `＆` 符号，它就被解析为父元素自身或父元素的伪类。

我们经常用的选择器

```css
a:hover {
    color: red;
}
```

Less 嵌套写法

```less
a {
  &:hover {
    color: red;
  }
}
```

#### Less 运算

任何数字、颜色或者变量都可以参与运算。

Less提供了加（＋）、减（-）、乘（＊）、除（／）算术运算。

```less
// Less 里面写
@width: 10px + 5;
div {
  border: @width solid red;
}
```

```css
/*生成的CSS*/
div {
    border: 15px solid red;
}
```

```less{}
//Less 甚至还可以这样
width: (@width + 5) * 2;
```

注意：

- 乘号(`＊`)和除号(`/`)的写法
- 对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位
- 如果两个值之间只有一个值有单位，则运算结果就取该单位
- 运算符中间左右有个空格隔开 `1px ＋ 5rem`


