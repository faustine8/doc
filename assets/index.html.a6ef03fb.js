import{_ as p,r as t,o as l,a as o,b as n,d as e,F as c,e as s,c as i}from"./app.40df414d.js";const r={},u=n("h1",{id:"_2-hive\u5B89\u88C5\u4E0E\u914D\u7F6E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-hive\u5B89\u88C5\u4E0E\u914D\u7F6E","aria-hidden":"true"},"#"),s(" 2. Hive\u5B89\u88C5\u4E0E\u914D\u7F6E")],-1),d=n("h2",{id:"_2-1-hive\u5B89\u88C5\u914D\u7F6E",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-1-hive\u5B89\u88C5\u914D\u7F6E","aria-hidden":"true"},"#"),s(" 2.1 Hive\u5B89\u88C5\u914D\u7F6E")],-1),b=s("Hive\u5B98\u7F51: "),m={href:"http://hive.apache.org",target:"_blank",rel:"noopener noreferrer"},k=s("http://hive.apache.org"),g=s("\u4E0B\u8F7D\u7F51\u5740: "),h={href:"http://archive.apache.org/dist/hive/",target:"_blank",rel:"noopener noreferrer"},v=s("http://archive.apache.org/dist/hive/"),f=s("\u6587\u6863\u7F51\u5740: "),x={href:"https://cwiki.apache.org/confluence/display/Hive/LanguageManual",target:"_blank",rel:"noopener noreferrer"},_=s("https://cwiki.apache.org/confluence/display/Hive/LanguageManual"),y=i(`<p>\u5B89\u88C5\u524D\u63D0: 3\u53F0\u865A\u62DF\u673A\uFF0C\u5B89\u88C5\u4E86Hadoop</p><p>\u5B89\u88C5\u8F6F\u4EF6: Hive(2.3.7) + MySQL (5.7.26)</p><blockquote><p>\u5907\u6CE8: Hive \u7684\u5143\u6570\u636E\u9ED8\u8BA4\u5B58\u50A8\u5728\u81EA\u5E26\u7684 derby \u6570\u636E\u5E93\u4E2D\uFF0C\u751F\u4EA7\u4E2D\u591A\u91C7\u7528MySQL</p></blockquote><blockquote><p>derby: Java\u8BED\u8A00\u5F00\u53D1\u5360\u7528\u8D44\u6E90\u5C11\uFF0C\u5355\u8FDB\u7A0B\uFF0C\u5355\u7528\u6237\u3002\u4EC5\u4EC5\u9002\u7528\u4E8E\u4E2A\u4EBA\u7684\u6D4B\u8BD5\u3002</p></blockquote><table><thead><tr><th>\u8F6F\u4EF6</th><th>linux121</th><th>linux122</th><th>linux123</th></tr></thead><tbody><tr><td>Hadoop</td><td>\u221A</td><td>\u221A</td><td>\u221A</td></tr><tr><td>MySQL</td><td></td><td></td><td>\u221A</td></tr><tr><td>Hive</td><td></td><td></td><td>\u221A</td></tr></tbody></table><p>\u6574\u4F53\u7684\u5B89\u88C5\u6B65\u9AA4:</p><ol><li>\u5B89\u88C5MySQL</li><li>\u5B89\u88C5\u914D\u7F6EHive</li><li>Hive\u6DFB\u52A0\u5E38\u7528\u914D\u7F6E</li></ol><h3 id="_2-1-1-mysql\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_2-1-1-mysql\u5B89\u88C5" aria-hidden="true">#</a> 2.1.1 MySQL\u5B89\u88C5</h3><p>Hive\u4E2D\u4F7F\u7528MySQL\u5B58\u50A8\u5143\u6570\u636E\uFF0CMySQL\u7684\u7248\u672C 5.7.26\u3002</p><p>\u5B89\u88C5\u6B65\u9AA4:</p><ol><li>\u73AF\u5883\u51C6\u5907(\u5220\u9664\u6709\u51B2\u7A81\u7684\u4F9D\u8D56\u5305\u3001\u5B89\u88C5\u5FC5\u987B\u7684\u4F9D\u8D56\u5305)</li><li>\u5B89\u88C5MySQL</li><li>\u4FEE\u6539root\u53E3\u4EE4(\u627E\u5230\u7CFB\u7EDF\u7ED9\u5B9A\u7684\u968F\u673A\u53E3\u4EE4\u3001\u4FEE\u6539\u53E3\u4EE4)</li><li>\u5728\u6570\u636E\u5E93\u4E2D\u521B\u5EFAhive\u7528\u6237</li></ol><p>1\u3001\u5220\u9664MariaDB</p><p>centos7.6 \u81EA\u5E26\u7684MariaDB(MariaDB\u662FMySQL\u7684\u4E00\u4E2A\u5206\u652F)\uFF0C\u4E0E\u8981\u5B89\u88C5\u7684MySQL\u6709\u51B2\u7A81\uFF0C\u9700\u8981\u5220\u9664\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u67E5\u8BE2\u662F\u5426\u5B89\u88C5\u4E86mariadb </span>
<span class="token function">rpm</span> -aq <span class="token operator">|</span> <span class="token function">grep</span> mariadb
<span class="token comment"># \u5220\u9664mariadb\u3002</span>
<span class="token comment"># -e \u5220\u9664\u6307\u5B9A\u7684\u5957\u4EF6; --nodeps \u4E0D\u9A8C\u8BC1\u5957\u4EF6\u7684\u76F8\u4E92\u5173\u8054\u6027 </span>
<span class="token function">rpm</span> -e --nodeps mariadb-libs
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>2\u3001\u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> perl -y
yum <span class="token function">install</span> net-tools -y
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3\u3001\u5B89\u88C5MySQL</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u89E3\u538B\u7F29</span>
<span class="token function">tar</span> xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar
<span class="token comment"># \u4F9D\u6B21\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4</span>
<span class="token function">rpm</span> -ivh mysql-community-common-5.7.26-1.el7.x86_64.rpm
<span class="token function">rpm</span> -ivh mysql-community-libs-5.7.26-1.el7.x86_64.rpm
<span class="token function">rpm</span> -ivh mysql-community-client-5.7.26-1.el7.x86_64.rpm
<span class="token function">rpm</span> -ivh mysql-community-server-5.7.26-1.el7.x86_64.rpm
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>4\u3001\u542F\u52A8\u6570\u636E\u5E93</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>systemctl start mysqld
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>5\u3001\u67E5\u627Eroot\u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">grep</span> password /var/log/mysqld.log
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>6\u3001\u4FEE\u6539 root \u5BC6\u7801</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u8FDB\u5165MySQL\uFF0C\u4F7F\u7528\u524D\u9762\u67E5\u8BE2\u5230\u7684\u53E3\u4EE4 </span>
mysql -u root -p

<span class="token comment"># \u8BBE\u7F6E\u5BC6\u7801\u5F3A\u5EA6; \u5C06root\u53E3\u4EE4\u8BBE\u7F6E\u4E3A12345678; \u5237\u65B0</span>
<span class="token builtin class-name">set</span> global <span class="token assign-left variable">validate_password_policy</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
<span class="token builtin class-name">set</span> password <span class="token keyword">for</span> <span class="token string">&#39;root&#39;</span>@<span class="token string">&#39;localhost&#39;</span> <span class="token operator">=</span> password<span class="token punctuation">(</span><span class="token string">&#39;12345678&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
flush privileges<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><code>validate_password_policy</code> \u5BC6\u7801\u7B56\u7565(\u9ED8\u8BA4\u662F1)\uFF0C\u53EF\u914D\u7F6E\u7684\u503C\u6709\u4EE5\u4E0B:</p><ul><li><code>0 or LOW</code> \u4EC5\u9700\u9700\u7B26\u5408\u5BC6\u7801\u957F\u5EA6(\u7531\u53C2\u6570 <code>validate_password_length</code>\u3010\u9ED8\u8BA4\u4E3A8\u3011 \u6307\u5B9A)</li><li><code>1 or MEDIUM</code> \u6EE1\u8DB3 LOW \u7B56\u7565\uFF0C\u540C\u65F6\u8FD8\u9700\u6EE1\u8DB3\u81F3\u5C11\u67091\u4E2A\u6570\u5B57\uFF0C\u5C0F\u5199\u5B57\u6BCD\uFF0C\u5927\u5199\u5B57\u6BCD\u548C\u7279\u6B8A\u5B57\u7B26</li><li><code>2 or STRONG</code> \u6EE1\u8DB3 MEDIUM \u7B56\u7565\uFF0C\u540C\u65F6\u5BC6\u7801\u4E0D\u80FD\u5B58\u5728\u5B57\u5178\u6587\u4EF6(dictionary file)\u4E2D</li></ul><blockquote><p>\u5907\u6CE8: \u4E2A\u4EBA\u5F00\u53D1\u73AF\u5883\uFF0C\u51FA\u4E8E\u65B9\u4FBF\u7684\u76EE\u7684\u8BBE\u6BD4\u8F83\u7B80\u5355\u7684\u5BC6\u7801; \u751F\u4EA7\u73AF\u5883\u4E00\u5B9A\u8981\u8BBE\u590D\u6742\u5BC6\u7801!</p></blockquote><p>7\u3001\u521B\u5EFA hive \u7528\u6237</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment"># \u521B\u5EFA\u7528\u6237\u8BBE\u7F6E\u5BC6\u7801\u3001\u6388\u6743\u3001\u5237\u65B0</span>
<span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;hive&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;12345678&#39;</span><span class="token punctuation">;</span> 
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&#39;hive&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-1-2-hive-\u5B89\u88C5" tabindex="-1"><a class="header-anchor" href="#_2-1-2-hive-\u5B89\u88C5" aria-hidden="true">#</a> 2.1.2 Hive \u5B89\u88C5</h3><p>\u5B89\u88C5\u6B65\u9AA4:</p><ol><li>\u4E0B\u8F7D\u3001\u4E0A\u4F20\u3001\u89E3\u538B\u7F29</li><li>\u4FEE\u6539\u73AF\u5883\u53D8\u91CF</li><li>\u4FEE\u6539hive\u914D\u7F6E</li><li>\u62F7\u8D1DJDBC\u7684\u9A71\u52A8\u7A0B\u5E8F</li><li>\u521D\u59CB\u5316\u5143\u6570\u636E\u5E93</li></ol><h4 id="_1-\u4E0B\u8F7D-hive-\u8F6F\u4EF6-\u5E76\u89E3\u538B\u7F29" tabindex="-1"><a class="header-anchor" href="#_1-\u4E0B\u8F7D-hive-\u8F6F\u4EF6-\u5E76\u89E3\u538B\u7F29" aria-hidden="true">#</a> 1. \u4E0B\u8F7D Hive \u8F6F\u4EF6\uFF0C\u5E76\u89E3\u538B\u7F29</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /opt/zmn/software
<span class="token function">tar</span> zxvf apache-hive-2.3.7-bin.tar.gz -C <span class="token punctuation">..</span>/servers/
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/servers
<span class="token function">mv</span> apache-hive-2.3.7-bin hive-2.3.7
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h4 id="_2-\u4FEE\u6539\u73AF\u5883\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#_2-\u4FEE\u6539\u73AF\u5883\u53D8\u91CF" aria-hidden="true">#</a> 2. \u4FEE\u6539\u73AF\u5883\u53D8\u91CF</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u5728 /etc/profile \u6587\u4EF6\u4E2D\u589E\u52A0\u73AF\u5883\u53D8\u91CF</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">HIVE_HOME</span><span class="token operator">=</span>/opt/zmn/servers/hive-2.3.7
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span><span class="token builtin class-name">:</span><span class="token variable">$HIVE_HOME</span>/bin
<span class="token comment"># \u6267\u884C\u5E76\u751F\u6548</span>
<span class="token builtin class-name">source</span> /etc/profile
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_3-\u4FEE\u6539-hive-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_3-\u4FEE\u6539-hive-\u914D\u7F6E" aria-hidden="true">#</a> 3. \u4FEE\u6539 Hive \u914D\u7F6E</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> <span class="token variable">$HIVE_HOME</span>/conf
<span class="token function">vi</span> hive-site.xml
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u589E\u52A0\u4EE5\u4E0B\u5185\u5BB9:</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;</span>
<span class="token prolog">&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;configuration.xsl&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- hive\u5143\u6570\u636E\u7684\u5B58\u50A8\u4F4D\u7F6E --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionURL<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>jdbc:mysql://linux123:3306/hivemetadata?createDatabaseIfNotExist=true<span class="token entity named-entity" title="&amp;">&amp;amp;</span>useSSL=false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>JDBC connect string for a JDBC metastore<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u6307\u5B9A\u9A71\u52A8\u7A0B\u5E8F --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionDriverName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>com.mysql.jdbc.Driver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Driver class name for a JDBC metastore<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u8FDE\u63A5\u6570\u636E\u5E93\u7684\u7528\u6237\u540D --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionUserName<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>hive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>username to use against metastore database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u8FDE\u63A5\u6570\u636E\u5E93\u7684\u5BC6\u7801 --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>javax.jdo.option.ConnectionPassword<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>12345678<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>password to use against metastore database<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><blockquote><p>\u5907\u6CE8: \u6CE8\u610Fjdbc\u7684\u8FDE\u63A5\u4E32\uFF0C\u5982\u679C\u6CA1\u6709 <code>useSSL=false</code> \u4F1A\u6709\u5927\u91CF\u8B66\u544A\u3002\u5728xml\u6587\u4EF6\u4E2D <code>&amp;amp;</code> \u8868\u793A &amp;</p></blockquote><h4 id="_4-\u62F7\u8D1D-mysql-jdbc-\u9A71\u52A8\u7A0B\u5E8F" tabindex="-1"><a class="header-anchor" href="#_4-\u62F7\u8D1D-mysql-jdbc-\u9A71\u52A8\u7A0B\u5E8F" aria-hidden="true">#</a> 4. \u62F7\u8D1D MySQL JDBC \u9A71\u52A8\u7A0B\u5E8F</h4><p>\u5C06 <code>mysql-connector-java-5.1.46.jar</code> \u62F7\u8D1D\u5230 <code>$HIVE_HOME/lib</code></p><h4 id="_5-\u521D\u59CB\u5316\u5143\u6570\u636E\u5E93" tabindex="-1"><a class="header-anchor" href="#_5-\u521D\u59CB\u5316\u5143\u6570\u636E\u5E93" aria-hidden="true">#</a> 5. \u521D\u59CB\u5316\u5143\u6570\u636E\u5E93</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>schematool -dbType mysql -initSchema
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_6-\u542F\u52A8hive-\u6267\u884C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_6-\u542F\u52A8hive-\u6267\u884C\u547D\u4EE4" aria-hidden="true">#</a> 6. \u542F\u52A8Hive\uFF0C\u6267\u884C\u547D\u4EE4</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u542F\u52A8hive\u670D\u52A1\u4E4B\u524D\uFF0C\u8BF7\u5148\u542F\u52A8hdfs\u3001yarn\u7684\u670D\u52A1 </span>
<span class="token punctuation">[</span>root@linux123 ~<span class="token punctuation">]</span>$ hive
hive<span class="token operator">&gt;</span> show functions<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_2-1-3-hive-\u5C5E\u6027\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-1-3-hive-\u5C5E\u6027\u914D\u7F6E" aria-hidden="true">#</a> 2.1.3 Hive \u5C5E\u6027\u914D\u7F6E</h3><p>\u53EF\u5728 <code>hive-site.xml</code> \u4E2D\u589E\u52A0\u4EE5\u4E0B\u5E38\u7528\u914D\u7F6E\uFF0C\u65B9\u4FBF\u4F7F\u7528\u3002</p><p>\u6570\u636E\u5B58\u50A8\u4F4D\u7F6E</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u6570\u636E\u9ED8\u8BA4\u7684\u5B58\u50A8\u4F4D\u7F6E(HDFS) --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.metastore.warehouse.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>/user/hive/warehouse<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>location of default database for the warehouse<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u663E\u793A\u5F53\u524D\u5E93</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5728\u547D\u4EE4\u884C\u4E2D\uFF0C\u663E\u793A\u5F53\u524D\u64CD\u4F5C\u7684\u6570\u636E\u5E93 --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.cli.print.current.db<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Whether to include the current database in the Hive prompt.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u663E\u793A\u8868\u5934\u5C5E\u6027</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5728\u547D\u4EE4\u884C\u4E2D\uFF0C\u663E\u793A\u6570\u636E\u7684\u8868\u5934 --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.cli.print.header<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u672C\u5730\u6A21\u5F0F</p><div class="language-xml ext-xml line-numbers-mode"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u64CD\u4F5C\u5C0F\u89C4\u6A21\u6570\u636E\u65F6\uFF0C\u4F7F\u7528\u672C\u5730\u6A21\u5F0F\uFF0C\u63D0\u9AD8\u6548\u7387 --&gt;</span> 
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>hive.exec.mode.local.auto<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>description</span><span class="token punctuation">&gt;</span></span>Let Hive determine whether to run in local mode automatically<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>description</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>\u5907\u6CE8: \u5F53 Hive \u7684\u8F93\u5165\u6570\u636E\u91CF\u975E\u5E38\u5C0F\u65F6\uFF0CHive \u901A\u8FC7\u672C\u5730\u6A21\u5F0F\u5728\u5355\u53F0\u673A\u5668\u4E0A\u5904\u7406\u6240\u6709\u7684\u4EFB\u52A1\u3002</p></blockquote><p>\u5BF9\u4E8E\u5C0F\u6570\u636E\u96C6\uFF0C\u6267\u884C\u65F6\u95F4\u4F1A\u660E\u663E\u88AB\u7F29\u77ED\u3002\u5F53\u4E00\u4E2A job \u6EE1\u8DB3\u5982\u4E0B\u6761\u4EF6\u624D\u80FD\u771F\u6B63\u4F7F\u7528\u672C\u5730\u6A21\u5F0F:</p><ul><li>job \u7684\u8F93\u5165\u6570\u636E\u91CF\u5FC5\u987B\u5C0F\u4E8E\u53C2\u6570: <code>hive.exec.mode.local.auto.inputbytes.max</code> (\u9ED8\u8BA4128MB)</li><li>job \u7684 map \u6570\u5FC5\u987B\u5C0F\u4E8E\u53C2\u6570: <code>hive.exec.mode.local.auto.tasks.max</code> (\u9ED8\u8BA44)</li><li>job \u7684 reduce\`\u6570\u5FC5\u987B\u4E3A 0 \u6216\u8005 1</li></ul><p><strong>Hive\u7684\u65E5\u5FD7\u6587\u4EF6</strong></p><p>Hive \u7684 log \u9ED8\u8BA4\u5B58\u653E\u5728 <code>/tmp/root</code> \u76EE\u5F55\u4E0B(root\u4E3A\u5F53\u524D\u7528\u6237\u540D); \u8FD9\u4E2A\u4F4D\u7F6E\u53EF\u4EE5\u4FEE\u6539\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">vi</span> <span class="token variable">$HIVE_HOME</span>/conf/hive-log4j2.properties
<span class="token comment"># \u6DFB\u52A0\u4EE5\u4E0B\u5185\u5BB9:</span>
property.hive.log.dir <span class="token operator">=</span> /opt/zmn/servers/hive-2.3.7/logs
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><blockquote><p>\u53EF\u4EE5\u4E0D\u4FEE\u6539\uFF0C\u4F46\u662F\u8981\u77E5\u9053\u4F4D\u7F6E\u3002</p></blockquote><p>Hadoop 2.x \u4E2D NameNode RPC\u7F3A\u7701\u7684\u7AEF\u53E3\u53F7: 8020\u3002(\u5BF9\u7AEF\u53E3\u53F7\u8981\u654F\u611F)</p><p><strong>\u9644\u5F55: \u6DFB\u52A0\u7B2C\u4E09\u65B9\u7528\u6237(Hadoop)</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">groupadd</span> hadoop

<span class="token comment"># -m:\u81EA\u52A8\u5EFA\u7ACB\u7528\u6237\u7684\u767B\u5165\u76EE\u5F55</span>
<span class="token comment"># -g:\u6307\u5B9A\u7528\u6237\u6240\u5C5E\u7684\u8D77\u59CB\u7FA4\u7EC4</span>
<span class="token comment"># -G&lt;\u7FA4\u7EC4&gt;:\u6307\u5B9A\u7528\u6237\u6240\u5C5E\u7684\u9644\u52A0\u7FA4\u7EC4</span>
<span class="token comment"># -s:\u6307\u5B9A\u7528\u6237\u767B\u5165\u540E\u6240\u4F7F\u7528\u7684shell</span>
<span class="token function">useradd</span> -m hadoop -g hadoop -s /bin/bash

<span class="token function">passwd</span> hadoop

visudo
<span class="token comment"># \u5728100\u884C\u540E\u6DFB\u52A0\u3002\u5141\u8BB8\u7528\u6237\u6267\u884Csudo\uFF0C\u514D\u5BC6 </span>
hadoop <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span> NOPASSWD:ALL
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>\u5EFA\u8BAE: \u73B0\u9636\u6BB5\u4F7F\u7528root\u7528\u6237</p></blockquote><p>\u5C0F\u7ED3:</p><ol><li>\u6DFB\u52A0\u4E86\u914D\u7F6E\uFF0C\u4F7F\u7528 Hive \u66F4\u65B9\u4FBF;</li><li>\u5220\u9664\u4E86\u6709\u51B2\u7A81\u7684\u8F6F\u4EF6\u5305(hive)</li><li>Hive \u7684\u65E5\u5FD7\u5728\u54EA\u91CC( <code>/tmp/root</code> )</li><li>\u7B2C\u4E09\u65B9\u7528\u6237\u4F7F\u7528 Hive\u3002\u5EFA\u8BAE\u4F7F\u7528 root \u7528\u6237\u3002</li><li>NameNode \u9ED8\u8BA4\u7684RPC(\u8FDC\u7A0B\u8FC7\u7A0B\u8C03\u7528)\u7AEF\u53E3\u53F7 8020\uFF0C\u7ECF\u5E38\u4F7F\u7528\u7684\u7AEF\u53E3\u53F7 9000\u3002</li></ol><h3 id="_2-1-4-\u53C2\u6570\u914D\u7F6E\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-1-4-\u53C2\u6570\u914D\u7F6E\u65B9\u5F0F" aria-hidden="true">#</a> 2.1.4 \u53C2\u6570\u914D\u7F6E\u65B9\u5F0F</h3><p>\u67E5\u770B\u53C2\u6570\u914D\u7F6E\u4FE1\u606F:</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u67E5\u770B\u5168\u90E8\u53C2\u6570 </span>
hive<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span><span class="token punctuation">;</span>
<span class="token comment"># \u67E5\u770B\u67D0\u4E2A\u53C2\u6570</span>
hive<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> hive.exec.mode.local.auto<span class="token punctuation">;</span> 

hive.exec.mode.local.auto<span class="token operator">=</span>false
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u53C2\u6570\u914D\u7F6E\u7684\u4E09\u79CD\u65B9\u5F0F:</p><ol><li>\u7528\u6237\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6(hive-site.xml)</li><li>\u542F\u52A8hive\u65F6\u6307\u5B9A\u53C2\u6570(<code>-hiveconf</code>)</li><li>hive\u547D\u4EE4\u884C\u6307\u5B9A\u53C2\u6570(<code>set</code>\u547D\u4EE4)</li></ol><blockquote><p>\u914D\u7F6E\u4FE1\u606F\u7684\u4F18\u5148\u7EA7: <code>set</code>\u547D\u4EE4 &gt; <code>-hiveconf</code> &gt; hive-site.xml &gt; hive-default.xml</p></blockquote><h4 id="_1-\u914D\u7F6E\u6587\u4EF6\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_1-\u914D\u7F6E\u6587\u4EF6\u65B9\u5F0F" aria-hidden="true">#</a> 1. \u914D\u7F6E\u6587\u4EF6\u65B9\u5F0F</h4><ul><li>\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6: hive-default.xml</li><li>\u7528\u6237\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6: hive-site.xml</li><li>\u914D\u7F6E\u4F18\u5148\u7EA7: hive-site.xml &gt; hive-default.xml</li></ul><p>\u914D\u7F6E\u6587\u4EF6\u7684\u8BBE\u5B9A\u5BF9<em>\u672C\u673A\u542F\u52A8</em>\u7684\u6240\u6709Hive\u8FDB\u7A0B\u6709\u6548;</p><p>\u914D\u7F6E\u6587\u4EF6\u7684\u8BBE\u5B9A\u5BF9\u672C\u673A<em>\u6240\u6709</em>\u542F\u52A8\u7684Hive\u8FDB\u7A0B\u6709\u6548;</p><h4 id="_2-\u542F\u52A8\u65F6\u6307\u5B9A\u53C2\u6570\u503C" tabindex="-1"><a class="header-anchor" href="#_2-\u542F\u52A8\u65F6\u6307\u5B9A\u53C2\u6570\u503C" aria-hidden="true">#</a> 2. \u542F\u52A8\u65F6\u6307\u5B9A\u53C2\u6570\u503C</h4><p>\u542F\u52A8Hive\u65F6\uFF0C\u53EF\u4EE5\u5728\u547D\u4EE4\u884C\u6DFB\u52A0 <code>-hiveconf param=value</code> \u6765\u8BBE\u5B9A\u53C2\u6570\uFF0C\u8FD9\u4E9B\u8BBE\u5B9A\u4EC5\u5BF9\u672C\u6B21\u542F\u52A8\u6709\u6548\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u542F\u52A8\u65F6\u6307\u5B9A\u53C2\u6570</span>
hive -hiveconf hive.exec.mode.local.auto<span class="token operator">=</span>true

<span class="token comment"># \u5728\u547D\u4EE4\u884C\u68C0\u67E5\u53C2\u6570\u662F\u5426\u751F\u6548</span>
hive<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> hive.exec.mode.local.auto<span class="token punctuation">;</span> 

hive.exec.mode.local.auto<span class="token operator">=</span>true
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_3-\u547D\u4EE4\u884C\u4FEE\u6539\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_3-\u547D\u4EE4\u884C\u4FEE\u6539\u53C2\u6570" aria-hidden="true">#</a> 3. \u547D\u4EE4\u884C\u4FEE\u6539\u53C2\u6570</h4><p>\u53EF\u5728 Hive \u547D\u4EE4\u884C\u4E2D\u4F7F\u7528 <code>SET</code> \u5173\u952E\u5B57\u8BBE\u5B9A\u53C2\u6570\uFF0C\u540C\u6837\u4EC5\u5BF9\u672C\u6B21\u542F\u52A8\u6709\u6548</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hive<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> hive.exec.mode.local.auto<span class="token operator">=</span>false<span class="token punctuation">;</span>
hive<span class="token operator">&gt;</span> <span class="token builtin class-name">set</span> hive.exec.mode.local.auto<span class="token punctuation">;</span>

hive.exec.mode.local.auto<span class="token operator">=</span>false
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>set &gt; <code>-hiveconf</code> &gt; hive-site.xml &gt; hive-default.xml</p></blockquote><h2 id="_2-2-hive\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-2-hive\u547D\u4EE4" aria-hidden="true">#</a> 2.2 Hive\u547D\u4EE4</h2><h3 id="_2-2-1-hive" tabindex="-1"><a class="header-anchor" href="#_2-2-1-hive" aria-hidden="true">#</a> 2.2.1 Hive</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hive -help

usage: hive
 -d,--define <span class="token operator">&lt;</span>key<span class="token operator">=</span>value<span class="token operator">&gt;</span>          Variable substitution to apply to Hive commands. e.g. -d <span class="token assign-left variable">A</span><span class="token operator">=</span>B or --define <span class="token assign-left variable">A</span><span class="token operator">=</span>B
    --database <span class="token operator">&lt;</span>databasename<span class="token operator">&gt;</span>     Specify the database to use
 -e <span class="token operator">&lt;</span>quoted-query-string<span class="token operator">&gt;</span>         SQL from <span class="token builtin class-name">command</span> line
 -f <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>                    SQL from files
 -H,--help                        Print <span class="token builtin class-name">help</span> information
    --hiveconf <span class="token operator">&lt;</span>property<span class="token operator">=</span>value<span class="token operator">&gt;</span>   Use value <span class="token keyword">for</span> given property
    --hivevar <span class="token operator">&lt;</span>key<span class="token operator">=</span>value<span class="token operator">&gt;</span>         Variable substitution to apply to Hive commands. e.g. --hivevar <span class="token assign-left variable">A</span><span class="token operator">=</span>B
 -i <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span>                    Initialization SQL <span class="token function">file</span>
 -S,--silent                      Silent mode <span class="token keyword">in</span> interactive shell
 -v,--verbose                     Verbose mode <span class="token punctuation">(</span>echo executed SQL to the console<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p><code>-e</code>: \u4E0D\u8FDB\u5165hive\u4EA4\u4E92\u7A97\u53E3\uFF0C\u6267\u884Csql\u8BED\u53E5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>hive -e <span class="token string">&quot;select * from users&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>-f</code>: \u6267\u884C\u811A\u672C\u4E2Dsql\u8BED\u53E5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># \u521B\u5EFA\u6587\u4EF6hqlfile1.sql\uFF0C\u5185\u5BB9:select * from users # \u6267\u884C\u6587\u4EF6\u4E2D\u7684SQL\u8BED\u53E5</span>
hive -f hqlfile1.sql
<span class="token comment"># \u6267\u884C\u6587\u4EF6\u4E2D\u7684SQL\u8BED\u53E5\uFF0C\u5C06\u7ED3\u679C\u5199\u5165\u6587\u4EF6 </span>
hive -f hqlfile1.sql <span class="token operator">&gt;&gt;</span> result1.log
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_2-2-2-\u9000\u51FAhive\u547D\u4EE4\u884C" tabindex="-1"><a class="header-anchor" href="#_2-2-2-\u9000\u51FAhive\u547D\u4EE4\u884C" aria-hidden="true">#</a> 2.2.2 \u9000\u51FAHive\u547D\u4EE4\u884C</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">exit</span><span class="token punctuation">;</span>
quit<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="_2-2-3-\u5728\u547D\u4EE4\u884C\u6267\u884C-shell-dfs-\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_2-2-3-\u5728\u547D\u4EE4\u884C\u6267\u884C-shell-dfs-\u547D\u4EE4" aria-hidden="true">#</a> 2.2.3 \u5728\u547D\u4EE4\u884C\u6267\u884C shell/dfs \u547D\u4EE4</h3><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># SHELL \u547D\u4EE4</span>
hive<span class="token operator">&gt;</span> <span class="token operator">!</span> <span class="token function">ls</span><span class="token punctuation">;</span>
hive<span class="token operator">&gt;</span> <span class="token operator">!</span> <span class="token function">clear</span><span class="token punctuation">;</span>
<span class="token comment"># HDFS \u547D\u4EE4</span>
hive<span class="token operator">&gt;</span> dfs -ls / <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div>`,98);function q(H,L){const a=t("ExternalLinkIcon");return l(),o(c,null,[u,d,n("p",null,[b,n("a",m,[k,e(a)])]),n("p",null,[g,n("a",h,[v,e(a)])]),n("p",null,[f,n("a",x,[_,e(a)])]),y],64)}var w=p(r,[["render",q],["__file","index.html.vue"]]);export{w as default};
