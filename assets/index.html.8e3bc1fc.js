import{_ as t,c as a}from"./app.40df414d.js";var r="/doc/assets/README-1656056490244.87632b07.png",e="/doc/assets/README-1656057330368.e968ffa1.png",s="/doc/assets/README-1656058472393.6b6876ad.png",d="/doc/assets/README-1656058590507.96021a23.png",i="/doc/assets/README-1656058622601.38662e8b.png",p="/doc/assets/README-1656058700731.c1cb4965.png",o="/doc/assets/README-1656058740016.fecac201.png";const c={},l=a('<h2 id="_1-jvm-\u6574\u4F53\u67B6\u6784" tabindex="-1"><a class="header-anchor" href="#_1-jvm-\u6574\u4F53\u67B6\u6784" aria-hidden="true">#</a> 1.JVM \u6574\u4F53\u67B6\u6784</h2><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>\u6839\u636E JVM \u89C4\u8303\uFF0CJVM \u5185\u5B58\u5171\u5206\u4E3A\u865A\u62DF\u673A\u6808\u3001\u5806\u3001\u65B9\u6CD5\u533A\u3001\u7A0B\u5E8F\u8BA1\u6570\u5668\u3001\u672C\u5730\u65B9\u6CD5\u6808\u4E94\u4E2A\u90E8\u5206\u3002</p></div><p><img src="'+r+'" alt="\u5F97\u5230App_2022-06-24_15-41-19.png"></p><table><thead><tr><th>\u540D\u79F0</th><th>\u7279\u5F81</th><th>\u4F5C\u7528</th><th>\u914D\u7F6E\u53C2\u6570</th><th>\u5F02\u5E38</th></tr></thead><tbody><tr><td>\u7A0B\u5E8F\u8BA1\u6570\u5668</td><td>\u5360\u7528\u5185\u5B58\u5C0F\uFF0C\u7EBF\u7A0B\u79C1\u6709\uFF0C\u751F\u547D\u5468\u671F\u4E0E\u7EBF\u7A0B\u76F8\u540C</td><td>\u5927\u81F4\u4E3A\u5B57\u8282\u7801\u884C\u53F7\u6307\u793A\u5668</td><td>\u65E0</td><td>\u65E0</td></tr><tr><td>\u865A\u62DF\u673A\u6808</td><td>\u7EBF\u7A0B\u79C1\u6709\uFF0C\u751F\u547D\u5468\u671F\u4E0E\u7EBF\u7A0B\u76F8\u540C\uFF0C\u4F7F\u7528\u8FDE\u7EED\u7684\u5185\u5B58\u7A7A\u95F4</td><td>Java \u65B9\u6CD5\u6267\u884C\u7684\u5185\u5B58\u6A21\u578B\uFF0C\u5B58\u50A8\u5C40\u90E8\u53D8\u91CF\u8868\u3001 \u64CD\u4F5C\u6808\u3001\u52A8\u6001\u94FE\u63A5\u3001\u65B9\u6CD5\u51FA\u53E3\u7B49\u4FE1\u606F</td><td>-Xss</td><td>StackOverflowError/ OutOfMemoryError</td></tr><tr><td>\u5806</td><td>\u7EBF\u7A0B\u5171\u4EAB\uFF0C\u751F\u547D\u5468\u671F\u4E0E\u865A\u62DF\u673A\u76F8\u540C\uFF0C\u53EF\u4EE5\u4E0D\u4F7F\u7528\u8FDE\u7EED\u7684\u5185\u5B58\u5730\u5740</td><td>\u4FDD\u5B58\u5BF9\u8C61\u5B9E\u4F8B\uFF0C\u6240\u6709\u5BF9\u8C61\u5B9E\u4F8B(\u5305\u62EC\u6570\u7EC4)\u90FD\u8981\u5728\u5806\u4E0A\u5206\u914D</td><td>-Xms -Xsx -Xmn</td><td>OutOfMemoryError</td></tr><tr><td>\u65B9\u6CD5\u533A</td><td>\u7EBF\u7A0B\u5171\u4EAB\uFF0C\u751F\u547D\u5468\u671F\u4E0E\u865A\u62DF\u673A\u76F8\u540C\uFF0C\u53EF\u4EE5\u4E0D\u4F7F\u7528\u8FDE\u7EED\u7684\u5185\u5B58\u5730\u5740</td><td>\u5B58\u50A8\u5DF2\u88AB\u865A\u62DF\u673A\u52A0\u8F7D\u7684\u7C7B\u4FE1\u606F\u3001\u5E38\u91CF\u3001\u9759\u6001\u53D8\u91CF\u3001\u5373\u65F6\u7F16\u8BD1\u5668\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\u7B49\u6570\u636E</td><td>-XX:PermSize:16M -XX:MaxPermSize64M/-XX:MetaspaceSize=16M -XX:MaxMetaspaceSize=64M</td><td>OutOfMemoryError</td></tr><tr><td>\u672C\u5730\u65B9\u6CD5\u6808</td><td>\u7EBF\u7A0B\u79C1\u6709</td><td>\u4E3A\u865A\u62DF\u673A\u4F7F\u7528\u5230\u7684 Native \u65B9\u6CD5\u670D\u52A1</td><td>\u65E0</td><td>StackOverflowError/ OutOfMemoryError</td></tr></tbody></table><div class="custom-container tip"><p class="custom-container-title">\u63D0\u793A</p><p>JVM \u5206\u4E3A\u4E94\u5927\u6A21\u5757: \u7C7B\u88C5\u8F7D\u5668\u5B50\u7CFB\u7EDF\u3001 \u8FD0\u884C\u65F6\u6570\u636E\u533A\u3001 \u6267\u884C\u5F15\u64CE\u3001 \u672C\u5730\u65B9\u6CD5\u63A5\u53E3\u548C\u5783\u573E\u6536\u96C6\u6A21\u5757 \u3002</p></div><p><img src="'+e+'" alt="JVM\u67B6\u6784\u56FE"></p><h2 id="_2-jvm-\u8FD0\u884C\u65F6\u5185\u5B58" tabindex="-1"><a class="header-anchor" href="#_2-jvm-\u8FD0\u884C\u65F6\u5185\u5B58" aria-hidden="true">#</a> 2.JVM \u8FD0\u884C\u65F6\u5185\u5B58</h2><p>Java \u865A\u62DF\u673A\u6709\u81EA\u52A8\u5185\u5B58\u7BA1\u7406\u673A\u5236\uFF0C\u5982\u679C\u51FA\u73B0\u9762\u7684\u95EE\u9898\uFF0C\u6392\u67E5\u9519\u8BEF\u5C31\u5FC5\u987B\u8981\u4E86\u89E3\u865A\u62DF\u673A\u662F\u600E\u6837\u4F7F\u7528\u5185\u5B58\u7684\u3002</p><p><img src="'+s+'" alt="\u5185\u5B58\u67B6\u6784"></p><p><strong>Java7 \u548C Java8 \u5185\u5B58\u7ED3\u6784\u7684\u4E0D\u540C\u4E3B\u8981\u4F53\u73B0\u5728\u65B9\u6CD5\u533A\u7684\u5B9E\u73B0</strong></p><p>\u65B9\u6CD5\u533A\u662F Java \u865A\u62DF\u673A\u89C4\u8303\u4E2D\u5B9A\u4E49\u7684\u4E00\u79CD\u6982\u5FF5\u4E0A\u7684\u533A\u57DF\uFF0C\u4E0D\u540C\u7684\u5382\u5546\u53EF\u4EE5\u5BF9\u865A\u62DF\u673A\u8FDB\u884C\u4E0D\u540C\u7684\u5B9E\u73B0\u3002</p><p>\u6211\u4EEC\u901A\u5E38\u4F7F\u7528\u7684 Java SE \u90FD\u662F\u7531 Sun JDK \u548C OpenJDK \u6240\u63D0\u4F9B\uFF0C\u8FD9\u4E5F\u662F\u5E94\u7528\u6700\u5E7F\u6CDB\u7684\u7248\u672C\u3002\u800C\u8BE5\u7248\u672C\u4F7F\u7528\u7684 VM \u5C31\u662F HotSpot VM\u3002 \u901A\u5E38\u60C5\u51B5\u4E0B\uFF0C\u6211\u4EEC\u6240\u8BB2\u7684java\u865A\u62DF\u673A\u6307\u7684\u5C31\u662FHotSpot\u7684\u7248\u672C\u3002</p><p><strong>JDK7 \u5185\u5B58\u7ED3\u6784</strong></p><p><img src="'+d+'" alt="JDK7"></p><p><strong>JDK8 \u7684\u5185\u5B58\u7ED3\u6784</strong></p><p><img src="'+i+'" alt="JDK8"></p><p>\u9488\u5BF9 JDK8 \u865A\u62DF\u673A\u5185\u5B58\u8BE6\u89E3</p><p><img src="'+p+'" alt="JDK8\u5185\u5B58\u8BE6\u89E3"></p><p><strong>JDK7 \u548C JDK8 \u53D8\u5316\u5C0F\u7ED3</strong></p><p><img src="'+o+'" alt="\u53D8\u5316"></p><p>\u7EBF\u7A0B\u79C1\u6709\u7684</p><ol><li>\u7A0B\u5E8F\u8BA1\u6570\u5668</li><li>\u865A\u62DF\u673A\u6808</li><li>\u672C\u5730\u65B9\u6CD5\u6808</li></ol><p>\u7EBF\u7A0B\u5171\u4EAB\u7684</p><ol><li>\u5806</li><li>\u65B9\u6CD5\u533A \u76F4\u63A5\u5185\u5B58(\u975E\u8FD0\u884C\u65F6\u6570\u636E\u533A\u7684\u4E00\u90E8\u5206)</li></ol><p><strong>\u5BF9\u4E8E Java8\uFF0CHotSpots \u53D6\u6D88\u4E86\u6C38\u4E45\u4EE3\uFF0C\u90A3\u4E48\u662F\u4E0D\u662F\u5C31\u6CA1\u6709\u65B9\u6CD5\u533A\u4E86\u5462?</strong></p><p>\u5F53\u7136\u4E0D\u662F\uFF0C\u65B9\u6CD5\u533A\u53EA\u662F\u4E00\u4E2A\u89C4\u8303\uFF0C\u53EA\u4E0D\u8FC7\u5B83\u7684\u5B9E\u73B0\u53D8\u4E86\u3002</p><p>\u5728 Java8 \u4E2D\uFF0C\u5143\u7A7A\u95F4(Metaspace)\u767B\u4E0A\u821E\u53F0\uFF0C\u65B9\u6CD5\u533A\u5B58\u5728\u4E8E\u5143\u7A7A\u95F4(Metaspace)\u3002\u540C\u65F6\uFF0C\u5143\u7A7A\u95F4\u4E0D\u518D\u4E0E\u5806\u8FDE\u7EED\uFF0C\u800C\u4E14\u662F\u5B58\u5728\u4E8E\u672C\u5730\u5185\u5B58(Native memory)\u3002</p><p><strong>\u65B9\u6CD5\u533A Java8 \u4E4B\u540E\u7684\u53D8\u5316</strong></p><ul><li>\u79FB\u9664\u4E86\u6C38\u4E45\u4EE3(PermGen)\uFF0C\u66FF\u6362\u4E3A\u5143\u7A7A\u95F4(Metaspace)</li><li>\u6C38\u4E45\u4EE3\u4E2D\u7684 class metadata(\u7C7B\u5143\u4FE1\u606F)\u8F6C\u79FB\u5230\u4E86 native memory(\u672C\u5730\u5185\u5B58\uFF0C\u800C\u4E0D\u662F\u865A\u62DF\u673A)</li><li>\u6C38\u4E45\u4EE3\u4E2D\u7684 interned Strings(\u5B57\u7B26\u4E32\u5E38\u91CF\u6C60) \u548C class static variables(\u7C7B\u9759\u6001\u53D8\u91CF)\u8F6C\u79FB\u5230\u4E86Java heap</li><li>\u6C38\u4E45\u4EE3\u53C2\u6570(PermSize MaxPermSize) -&gt; \u5143\u7A7A\u95F4\u53C2\u6570(MetaspaceSize MaxMetaspaceSize)</li></ul><p><strong>Java8 \u4E3A\u4EC0\u4E48\u8981\u5C06\u6C38\u4E45\u4EE3\u66FF\u6362\u6210 Metaspace?</strong></p><ul><li>\u5B57\u7B26\u4E32\u5B58\u5728\u6C38\u4E45\u4EE3\u4E2D\uFF0C\u5BB9\u6613\u51FA\u73B0\u6027\u80FD\u95EE\u9898\u548C\u5185\u5B58\u6EA2\u51FA\u3002</li><li>\u7C7B\u53CA\u65B9\u6CD5\u7684\u4FE1\u606F\u7B49\u6BD4\u8F83\u96BE\u786E\u5B9A\u5176\u5927\u5C0F\uFF0C\u56E0\u6B64\u5BF9\u4E8E\u6C38\u4E45\u4EE3\u7684\u5927\u5C0F\u6307\u5B9A\u6BD4\u8F83\u56F0\u96BE\uFF0C\u592A\u5C0F\u5BB9\u6613\u51FA\u73B0\u6C38\u4E45\u4EE3\u6EA2\u51FA\uFF0C\u592A\u5927\u5219\u5BB9\u6613\u5BFC\u81F4\u8001\u5E74\u4EE3\u6EA2\u51FA\u3002</li><li>\u6C38\u4E45\u4EE3\u4F1A\u4E3A GC \u5E26\u6765\u4E0D\u5FC5\u8981\u7684\u590D\u6742\u5EA6\uFF0C\u5E76\u4E14\u56DE\u6536\u6548\u7387\u504F\u4F4E\u3002</li><li>Oracle \u53EF\u80FD\u4F1A\u5C06 HotSpot \u4E0E JRockit \u5408\u4E8C\u4E3A\u4E00\uFF0CJRockit \u6CA1\u6709\u6240\u8C13\u7684\u6C38\u4E45\u4EE3\u3002</li></ul><h3 id="_2-1-pc-\u7A0B\u5E8F\u8BA1\u6570\u5668" tabindex="-1"><a class="header-anchor" href="#_2-1-pc-\u7A0B\u5E8F\u8BA1\u6570\u5668" aria-hidden="true">#</a> 2.1 PC \u7A0B\u5E8F\u8BA1\u6570\u5668</h3><h2 id="_3-\u5B9E\u6218-outofmemoryerror-\u5F02\u5E38" tabindex="-1"><a class="header-anchor" href="#_3-\u5B9E\u6218-outofmemoryerror-\u5F02\u5E38" aria-hidden="true">#</a> 3. \u5B9E\u6218 OutOfMemoryError \u5F02\u5E38</h2>',33);function n(m,h){return l}var M=t(c,[["render",n],["__file","index.html.vue"]]);export{M as default};
